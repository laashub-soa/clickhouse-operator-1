---
- name: clickhouse
  id: "137a3ded-59ab-4ece-bbda-9cfff850a1f3"
  description: "Provide clickhouse as a service through Open service Broker!"
  bindable: true
  planupdatable: true
  metadata:
    display_name: clickhouse service
    image_url: http://gitlab.bj.sensetime.com/uploads/-/system/project/avatar/10933/clickhouse-logo.png
  plans:
    - name: simple
      id: ebd00cf7-3d2a-465f-b10c-b9b90a01badf
      description: "使用本地存储的配置"
      metadata:
        display_name: host-volume plan
        specification: "baseImage: 基础镜像\n bootstrapImage: 预处理镜像\n version: 基础镜像版本\n deletePVC: 在删除实例后是否删除PVC"
      free: true
      schemas:
        serviceinstance:
          create:
            parameters:
              baseImage: registry.sensetime.com/diamond/service-providers/clickhouse
              bootstrapImage: registry.sensetime.com/diamond/clickhouse-bootstrap:0.1.0
              deletePVC: true
              shardCount: 1
              replicasCount: 2
              resources:
                requests:
                  cpu: '1'
                  memory: 2Gi
                limits:
                  cpu: '1'
                  memory: 2Gi
    - name: ceph
      id: 80009ea6-ac3c-4404-9073-2f889471a680
      description: "以ceph作为数据存储的配置"
      metadata:
        display_name: ceph plan
        specification: "baseImage: 基础镜像\n bootstrapImage: 预处理镜像\n version: 基础镜像版本\n deletePVC: 在删除实例后是否删除PVC"
      free: true
      schemas:
        serviceinstance:
          create:
            parameters:
              dataCapacity: "20Gi"
              dataStorageClass: ceph-rbd
              deletePVC: true
              shardCount: 2
              replicasCount: 2
              resources:
                requests:
                  cpu: '1'
                  memory: 2Gi
                limits:
                  cpu: '1'
                  memory: 2Gi
