---
- name: clickhouse
  id: "558888d1-f00a-3176-01e4-05cd2d68eb18"
  description: "Provide clickhouse as a service through Open service Broker!"
  bindable: true
  planupdatable: false
  metadata:
    display_name: clickhouse service
    image_url: http://gitlab.bj.sensetime.com/uploads/-/system/project/avatar/10933/clickhouse-logo.png
  plans:
    - name: simple
      id: ebd00cf7-3d2a-465f-b10c-b9b90a01badf
      description: "使用本地存储的配置"
      metadata:
        display_name: host-volume plan
        specification: "baseImage: 基础镜像\n bootstrapImage: 预处理镜像\n version: 基础镜像版本\n deletePVC: 在删除实例后是否删除PVC"
      free: true
      extensions:
        - name: backup
          id: 6bd6df0c-b5a6-4513-9a22-1cddb1c73ae9
          description: "备份操作"
        - name: clean
          id: df2abd92-f1f4-4d4e-9f4d-85bcd66cca82
          description: "清理操作"
      schemas:
        serviceinstance:
          create:
            parameters:
              deletePVC: true
              shardsCount: 1
              replicasCount: 2
              resources:
                requests:
                  cpu: '0.1'
                  memory: 300Mi
                limits:
                  cpu: '0.1'
                  memory: 500Mi
    - name: ceph
      id: 80009ea6-ac3c-4404-9073-2f889471a680
      description: "以ceph作为数据存储的配置"
      metadata:
        display_name: ceph plan
        specification: "baseImage: 基础镜像\n bootstrapImage: 预处理镜像\n version: 基础镜像版本\n deletePVC: 在删除实例后是否删除PVC"
      free: true
      schemas:
        serviceinstance:
          create:
            parameters:
              dataCapacity: "20Gi"
              dataStorageClass: ceph-rbd
              deletePVC: true
              shardsCount: 2
              replicasCount: 2
              resources:
                requests:
                  cpu: '1'
                  memory: 4Gi
                limits:
                  cpu: '1'
                  memory: 4Gi
